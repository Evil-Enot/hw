# Блокирующий TCP чат

Написан на С.
Работа проверялась на ArchLinux дистрибутиве.

## Протокол

Подразумевает последовательность действий.

1. Действие 1 может быть только первым, в остальных ситуациях не является корректным и должно быть проигнорировано.
1. Действие 2 валидно в любой момент после Действия 1 и до действия 4
1. Действие 3 валидно в любой момент после Действия 1 и до действия 4
1. Действие 4 может быть выполнено только после Действия 1

Формат пакета:

```
 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|Version|  IHL  |Type of Service|          Total Length         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|         Identification        |Flags|      Fragment Offset    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|  Time to Live |    Protocol   |         Header Checksum       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       Source Address                          |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Destination Address                        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                    Options                    |    Padding    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
```

## Build

Для сборки использовался gcc 11.1.0.

Сервер:

```sh
gcc server.c -o server
```

Клиент:

```sh
gcc client.c -o client
```

## Запуск

Сервер:

```sh
./server
```

Клиент:

```sh
./client
```
